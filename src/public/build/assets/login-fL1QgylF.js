import{A as c}from"./AppRequest-BdPYhK6t.js";import{a as i}from"./domHelpers-0caSGQTr.js";document.addEventListener("DOMContentLoaded",()=>{let n;i();const s=document.getElementById("loginForm");s.addEventListener("submit",async o=>{o.preventDefault();try{const t=new FormData(s),e=Object.fromEntries(t.entries()),a=await c.request(s.action,"POST",e);r(a.message,!0),setTimeout(()=>{window.location.href=a.redirect_to},1e3)}catch(t){const e=t?.response?.message||t?.message||"An unknown error occurred.";r(e,!1),console.error(t)}});function r(o,t=!0){const e=document.getElementById("login-message");e.classList.toggle("alert-success",t),e.classList.toggle("alert-warning",!t),e.classList.add("visible"),e.textContent=o,clearTimeout(n),n=setTimeout(()=>{e.classList.remove("visible")},3e3)}});
