import{A as a}from"./AppRequest-C-p8YiRd.js";import{a as c}from"./domHelpers-0caSGQTr.js";document.addEventListener("DOMContentLoaded",()=>{let n;c();const s=document.getElementById("loginForm");s.addEventListener("submit",async o=>{o.preventDefault();try{await a.request("/sanctum/csrf-cookie","GET");const t=new FormData(s),e=Object.fromEntries(t.entries()),i=await a.request(s.action,"POST",e);await a.request("/api/debug-auth","GET"),r(i.message,!0),setTimeout(()=>{window.location.href=i.redirect_to},1e3)}catch(t){const e=t?.response?.message||t?.message||"An unknown error occurred.";r(e,!1),console.error(t)}});function r(o,t=!0){const e=document.getElementById("login-message");e.classList.toggle("alert-success",t),e.classList.toggle("alert-warning",!t),e.classList.add("visible"),e.textContent=o,clearTimeout(n),n=setTimeout(()=>{e.classList.remove("visible")},3e3)}});
