const f=(function(){let e=!1,t=0;const n=document.getElementById("indicator-loading");function o(){n&&(n.classList.toggle("show",t!==0||e),n.classList.toggle("error",e))}return{start:function(){t++,o()},stop:function(){t>0&&(t--,o())},error:function(){t>0&&(e=!0,o())},isLoading:function(){return t>0&&!e},reset:function(){t=0,o()}}})(),h=(function(){const e=new Set;function t(n){const s=`; ${document.cookie}`.split(`; ${n}=`);return s.length===2?s.pop().split(";").shift():null}return{isLoading(n=null){return n?e.has(n):e.size>0},async request(n,o="GET",s=null,l=null,a=!0){const c=l||`${o.toUpperCase()}:${n}`;if(e.has(c)){console.warn("Request already in progress:",c);return}e.add(c),a&&f.start();const r={method:o.toUpperCase(),credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}};if(!["GET","HEAD","OPTIONS"].includes(r.method)){const i=t("XSRF-TOKEN");i&&i.length>10&&(r.headers["X-XSRF-TOKEN"]=decodeURIComponent(i))}if(s){const i=s instanceof FormData;r.body=i?s:JSON.stringify(s),i||(r.headers["Content-Type"]="application/json")}try{let i;const u=await fetch(n,r);if((u.headers.get("content-type")||"").includes("application/json"))try{i=await u.json()}catch(d){console.log(d)}else i=await u.text();if(!u.ok){a&&f.error(u.status);const d=typeof i=="object"&&i?.message||i;throw new Error(d||"Request failed")}return i}catch(i){throw console.log(i),i}finally{e.delete(c),a&&f.stop()}}}})();function y(e){const t=e.cloneNode(!0);return e.parentNode.replaceChild(t,e),t}function b(e,t=""){const n=document.createElement("i");return n.className=`bi bi-${e}`,t&&n.classList.add(...t.split(/\s+/)),n}function p(e,t=!0){document.body.classList.toggle(e,t)}async function g(e=null,t=document.documentElement){const n=!!document.fullscreenElement;e=e===null?!n:e;var o=document.documentElement;if(o.requestFullscreen)try{e&&!n&&await o.requestFullscreen(),!e&&n&&await document.exitFullscreen(),p("fullscreen-mode",e)}catch(s){console.log(s)}}function v(e){const t=new FormData(e),n={};for(const[o,s]of t.entries())n.hasOwnProperty(o)?(Array.isArray(n[o])||(n[o]=[n[o]]),n[o].push(s)):n[o]=s;return n}function E(e,t){e.reset();for(const n in t)if(t.hasOwnProperty(n)){const o=e.elements.namedItem(n);o&&t[n]!==null&&typeof t[n]!="object"&&(o.value=t[n])}}function w(){document.querySelectorAll('input[type="checkbox"][data-label-on][data-label-off]').forEach(function(t){const n=document.querySelector(`label[for="${t.id}"]`);if(!n)return;function o(){const s=t.checked?t.dataset.labelOn:t.dataset.labelOff;n.textContent=s}t.addEventListener("change",o),o()})}function O(e){function t(c){return!!(c.offsetWidth||c.offsetHeight||c.getClientRects().length)}let n=!1;const o=new IntersectionObserver(c=>{c.forEach(r=>{const i=r.isIntersecting&&t(e);a(i)})},{threshold:.01});o.observe(e);const s=new MutationObserver(()=>{const c=t(e);a(c&&l(e))});s.observe(document.body,{attributes:!0,childList:!0,subtree:!0,attributeFilter:["style","class","hidden"]});function l(c){const r=c.getBoundingClientRect();return r.width>0&&r.height>0&&r.bottom>=0&&r.right>=0&&r.top<=(window.innerHeight||document.documentElement.clientHeight)&&r.left<=(window.innerWidth||document.documentElement.clientWidth)}function a(c){if(c!==n){n=c;const r=c?"visible":"hidden";e.dispatchEvent(new CustomEvent(r,{detail:{visible:c}}))}}return a(t(e)&&l(e)),{disconnect(){o.disconnect(),s.disconnect()}}}function C(e,t=2500){const o=document.getElementById("toastTpl").content.cloneNode(!0),s=o.querySelector(".toast"),l=s.querySelector(".toast-body");document.body.appendChild(o),l.textContent=e;const a=new bootstrap.Toast(s,{animation:!0,autohide:!0,delay:t});return a.show(),s.addEventListener("hidden.bs.toast",()=>{const c=s.closest(".position-fixed");c&&c.remove()}),a}function F(e){const t=bootstrap.Offcanvas.getOrCreateInstance(document.getElementById(e));return t.show(),t}function T(e){const t=bootstrap.Offcanvas.getInstance(document.getElementById(e));return t.hide(),t}export{h as A,w as a,g as b,T as c,p as d,O as e,b as f,v as g,F as o,E as p,y as r,C as t};
