const f=(function(){let t=!1,e=0;const n=document.getElementById("indicator-loading");function o(){n&&(n.classList.toggle("show",e!==0||t),n.classList.toggle("error",t))}return{start:function(){e++,o()},stop:function(){e>0&&(e--,o())},error:function(){e>0&&(t=!0,o())},isLoading:function(){return e>0&&!t},reset:function(){e=0,o()}}})(),y=(function(){const t=new Set;function e(n){const s=`; ${document.cookie}`.split(`; ${n}=`);return s.length===2?s.pop().split(";").shift():null}return{isLoading(n=null){return n?t.has(n):t.size>0},async request(n,o="GET",s=null,u=null,r=!0){const a=u||`${o.toUpperCase()}:${n}`;if(t.has(a)){console.warn("Request already in progress:",a);return}t.add(a),r&&f.start();const i={method:o.toUpperCase(),credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}};if(!["GET","HEAD","OPTIONS"].includes(i.method)){const c=e("XSRF-TOKEN");c&&c.length>10&&(i.headers["X-XSRF-TOKEN"]=decodeURIComponent(c))}if(s){const c=s instanceof FormData;i.body=c?s:JSON.stringify(s),c||(i.headers["Content-Type"]="application/json")}try{let c;const l=await fetch(n,i);if((l.headers.get("content-type")||"").includes("application/json"))try{c=await l.json()}catch(d){console.log(d)}else c=await l.text();if(!l.ok){r&&f.error(l.status);const d=typeof c=="object"&&c?.message||c;throw new Error(d||"Request failed")}return c}catch(c){throw console.log(c),c}finally{t.delete(a),r&&f.stop()}}}})();function h(t){const e=t.cloneNode(!0);return t.parentNode.replaceChild(e,t),e}function g(t,e=""){const n=document.createElement("i");return n.className=`bi bi-${t}`,e&&n.classList.add(...e.split(/\s+/)),n}function p(t,e=!0){document.body.classList.toggle(t,e)}async function b(t=null,e=document.documentElement){const n=!!document.fullscreenElement;t=t===null?!n:t;var o=document.documentElement;if(o.requestFullscreen)try{t&&!n&&await o.requestFullscreen(),!t&&n&&await document.exitFullscreen(),p("fullscreen-mode",t)}catch(s){console.log(s)}}function E(t){const e=new FormData(t),n={};for(const[o,s]of e.entries())n.hasOwnProperty(o)?(Array.isArray(n[o])||(n[o]=[n[o]]),n[o].push(s)):n[o]=s;return n}function v(t,e){t.reset();for(const n in e)if(e.hasOwnProperty(n)){const o=t.elements.namedItem(n);o&&e[n]!==null&&typeof e[n]!="object"&&(o.value=e[n])}}function w(){document.querySelectorAll('input[type="checkbox"][data-label-on][data-label-off]').forEach(function(e){const n=document.querySelector(`label[for="${e.id}"]`);if(!n)return;function o(){const s=e.checked?e.dataset.labelOn:e.dataset.labelOff;n.textContent=s}e.addEventListener("change",o),o()})}function C(t,e=2500){const o=document.getElementById("toastTpl").content.cloneNode(!0),s=o.querySelector(".toast"),u=s.querySelector(".toast-body");document.body.appendChild(o),u.textContent=t;const r=new bootstrap.Toast(s,{animation:!0,autohide:!0,delay:e});return r.show(),s.addEventListener("hidden.bs.toast",()=>{const a=s.closest(".position-fixed");a&&a.remove()}),r}function O(t){const e=bootstrap.Offcanvas.getOrCreateInstance(document.getElementById(t));return e.show(),e}function T(t){const e=bootstrap.Offcanvas.getInstance(document.getElementById(t));return e.hide(),e}export{y as A,w as a,b,T as c,p as d,g as e,E as g,O as o,v as p,h as r,C as t};
